<p-toast position="top-right"></p-toast>
<div style="margin-top:10px;"></div>
<form class="pt-2 userForm" #f="ngForm" (ngSubmit)="save(f.form)"  class="userForm">
    <!-- <div class="p-inputgroup admin"> -->
        <div class="row">
        <p-button label="Admin Panel" [routerLink]="['/compliance-adminPanel']" iconPos="left" styleClass="p-button p-button-pnb btn-block" style="float:right"   ></p-button>
        </div>
        <!-- <button type="button" pButton pRipple label="Search"></button> -->
    <!-- </div> -->

    
    
    <div class="p-fluid p-formgrid p-grid pt-2">
        
        <div class="p-field p-col" style="margin-top:39px">
            <span class="p-float-label">
                <!-- <p-dropdown inputId="division"  [options]="reportNames" required name="division" optionLabel="division" [(ngModel)]="data.division"></p-dropdown> -->
                <label for="division"  class="selectLabel">Report Type</label>
                <select class="p-dropdown-label p-inputtext ng-star-inserted" name="reportType"  [(ngModel)]="data.reportType" required (change)="getCatalog()">
                    <option selected value="null">Select Option</option>
                    <option *ngFor="let reportType of reportTypes" [value]="reportType.value">{{reportType.label}}</option>
                </select>
            </span>
        </div>
    </div>
    <div class="p-fluid p-formgrid p-grid pt-2">

        <div class="p-field p-col">
            <span class="p-float-label">
                <!-- <p-dropdown inputId="division"  [options]="reportNames" required name="division" optionLabel="division" [(ngModel)]="data.division"></p-dropdown> -->
                <label for="division"  class="selectLabel">Division</label>
                <select class="p-dropdown-label p-inputtext ng-star-inserted" name="division"  [(ngModel)]="data.division" required (change)="getReports()">
                    <option selected value="null">Select Option</option>
                    <option *ngFor="let catalog of reportNames" [value]="catalog.division">{{catalog.division}}  </option>
                </select>
            </span>
        </div>
        <div class="p-field p-col">
            <span class="p-float-label">
                <!-- <p-dropdown inputId="reportName" [options]="catalogs" required optionLabel="reportName" name="reportName" [(ngModel)]="data.reportName"></p-dropdown> -->
                <label for="reportName" class="selectLabel">Report Name</label>
                <select class="p-dropdown-label p-inputtext ng-star-inserted" name="reportName"  [(ngModel)]="data.reportName" required (change)="reportChanged()">
                    <option selected value="null">Select Option</option>   
                    <option *ngFor="let catalog of reports" [value]="catalog.reportName">{{catalog.reportName}} </option>
                </select>
            </span> </div>
        <!-- <div class="p-field p-col">
            <span class="p-float-label">
                <p-dropdown inputId="reportNO" [options]="catalogs" required name="reportNo" optionLabel="reportNo" [(ngModel)]="data.reportNo" (onChange)="reportChanged(data.reportNo)"></p-dropdown>
                <label for="reportNO">Report NO</label>
            </span>
        </div> -->
    </div>
    <div class="p-fluid p-formgrid p-grid pt-2">

        <div class="p-field p-col">
            <span class="p-float-label">
                <p-dropdown  inputId="logic" [options]="logics" optionLabel="label" name="logicValidated" [(ngModel)]="data.logicValidated"></p-dropdown>
                <label for="logic">Logic Validated For Report Output </label>
            </span>
        </div>
        <div class="p-field p-col">
            <span class="p-float-label">
                <p-calendar inputId="lastReviewDate"  [(ngModel)]="data.lastReviewDate" dateFormat="dd-mm-yy"  name="lastReviewDate" [disabled]="true"></p-calendar>
                <label for="lastReviewDate">Last Review Date</label>
            </span>
        </div>
    </div>
    <div class="p-fluid p-formgrid p-grid">

        <div class="p-field p-col">
            <span class="p-float-label">
                <p-calendar inputId="logicReviewDate"  [disabled]="true" dateFormat="dd-mm-yy" [(ngModel)]="minDateValue" name="logicReviewDate" [maxDate]="minDateValue"></p-calendar>
                <label for="logicReviewDate">Logic Review Date</label>
            </span>
        </div>
        <div class="p-field p-col">
            <span class="p-float-label">
                <input type="text" id="userId" required pInputText [disabled]="true" [(ngModel)]="data.userId" name="userId"> 
                <label for="userIDWhoReviewed">User ID Who Reviewed</label>
            </span>
        </div>
    </div>
    <div class="p-fluid p-formgrid p-grid pt-2">
              <!-- <div class="p-field p-col">
            <span class="p-float-label">
                <p-calendar inputId="systemDate" [(ngModel)]="minDateValue" dateFormat="dd-mm-yy"  name="systemDate" [disabled]="true"></p-calendar>
                <label for="systemDate">System Date</label>
            </span>
        </div> -->
        <div class="p-field p-col text-right" style="display: inline-flex;">
            <button label="Save" type="submit" pButton pRipple class="p-button mr-2 btn-block"></button>
            <button label="Back" type="button" pButton pRipple [routerLink]="['/home']" class="p-button ml-2 p-button-pnb btn-block"></button>

        </div>
     

    </div>
    <div>
        <div class="p-grid">
         
            <div class="p-col m-10 br-2 text-white text-center cursor-pointer bg-danger" (click)="goto('dueDateCrossed')">
                <h3>Due Date Crossed
                    <p> {{crossedReportNames.length}}</p>
                </h3>
            </div>
            <div class="p-col m-10 br-2 text-white text-center cursor-pointer bg-warning" (click)="goto('todo')">
                <h3>To Do
                </h3>
                <p class="text-warning">{{todoReportNames.length}}</p>

            </div>
            <div class="p-col br-2 text-white m-10 text-center cursor-pointer bg-success" (click)="goto('completed')">
                <h3>Done
                    <p>{{completedReportNames.length}}</p>
                </h3>
            </div>
        </div>
    </div>
    <div *ngIf="downloads" align="right">
        <button  pButton type="button" icon="pi pi-download" iconPos="left" class="mr-2 " label="Download" (click)="download()"></button>
    </div>
    <div *ngIf="hide" class="table">
        <p-table [value]="overviewReportNames">
            <ng-template pTemplate="header">
                <tr>
                    <th text-align="left">Report Name</th>
                    <th (click)="sortBy('reportType')">Report Type</th>
                    <th (click)="sortBy('division')">Division</th>
                    <th (click)="sortBy('lastReviewDate')" >Last Review Date</th>
                    <!-- <th>Logic Validated</th> -->
                     <th>Validated By</th> 
                    <!-- <th>Logic Review Date</th>  -->
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-overviewReportNames>
                <tr>
                    <td>{{overviewReportNames.reportName}}</td>
                    <td text-align="center">{{overviewReportNames.reportType}}</td>
                    <td>{{overviewReportNames.division}}</td>
                    <td>{{overviewReportNames.lastReviewDate}}</td>
                    <!-- <td>{{overviewReportNames.logicValidated}}</td> -->

                     <td>{{overviewReportNames.userId}}</td> 
                    <!-- <td>{{overviewReportNames.logicReviewDate}}</td>  -->


                </tr>
            </ng-template>
        </p-table>
    </div>


</form>





<!-- <div class="row" style="display: inline-flex;">
    <div class="col text-info" (click)="goto('maker')">
        <div class="text-value">{{overView.todoCount}}</div>
        <div class=" ">To Do</div>
    </div>
    <div class="col text-danger" (click)="goto('checker')">
        <div class="text-value">{{overView.dueDate}}</div>
        <div class=" ">Due Date Crossed</div>
    </div>
    <div class="col text-success" (click)="goto('status')">
        <div class="text-value">{{overView.completed}}</div>
        <div class=" ">Completed</div>
    </div>
</div> -->




<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>
