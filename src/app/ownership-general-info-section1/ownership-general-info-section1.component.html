<div *ngIf="section1Flag">
    <p-accordion>
        <div class="p-col">
            <h3 style="text-align: center;padding-top: 12px;"  class="m-0 pt-1" >{{heading}}</h3>
        </div>
        <p-accordionTab header="Part A: Ownership Pattern - TOP SHAREHOLDERS" [selected]="true">
            <form [formGroup]="section1Form">
            <div class="p-fluid p-formgrid p-grid pt-2">
                <div class="p-field p-col-12 p-md-6 form-group" >
                    <span class="p-float-label">
                        <input id="float-input" type="number" (keypress)="numberOnlyWithDismal($event)" formControlName="totalNoOfEquityShares" pInputText> 
                        <label for="float-input">Total No. of Equity Shares<i class="required">*</i></label>
                    </span>
                    <div *ngIf="f.totalNoOfEquityShares.invalid && (f.totalNoOfEquityShares.touched)" class="error-msg">
                        <div *ngIf="f.totalNoOfEquityShares.errors.required">Total No. of Equity Shares is required.</div>
                        </div>
                </div>
               <div class="p-field p-col-12 p-md-6" >
                    <span class="p-float-label">
                        <input pInputText type="text" (keypress)="numberOnlyWithDismal($event)" formControlName="faceValueOfEachShare">
                        <label for="division">Free Value of Each Share<i class="required">*</i></label>
                    </span>
                    <div *ngIf="f.faceValueOfEachShare.invalid && (f.faceValueOfEachShare.touched)" class="error-msg">
                        <div *ngIf="f.faceValueOfEachShare.errors.required">Face Value of Each Share Shares is required.</div>
                        </div>
                </div>
               </div>
               <div class="p-fluid p-formgrid p-grid pt-2">
                <div class="p-field p-col-12 p-md-12 form-group" >
                    <span class="p-float-label">
                        <input pInputText type="text" (keypress)="numberOnlyWithDismal($event)" formControlName="bookValuePerShare" >
                        <label for="division">Book Value Per Share<i class="required">*</i></label>
                    </span>
                    <div *ngIf="f.bookValuePerShare.invalid && (f.bookValuePerShare.touched)" class="error-msg">
                        <div *ngIf="f.bookValuePerShare.errors.required">Book Value Per Share is required.</div>
                        </div>
                </div>
               </div>
               </form>
               <div class="card">
                <p-tabView>
                    <div class="p-grid" style="text-align:inital;">    
                        <div class="p-col text-right add" style="padding-bottom: 17px;">
                            <button pButton type="button"  icon="pi pi-plus" iconPos="right" class="mr-2 " label="Add"
                                (click)="add('PartA',reportData)"></button>
                        </div>
                    </div>
                    <div class="SectionScroller">   
                    <p-table [columns]="cols" [value]="reportData" responsiveLayout="scroll">
                       
                        <ng-template pTemplate="header" let-columns>
                            <tr>
                                <th *ngFor="let col of columns" style="width: 250px;">
                                    {{col.name}}
                                </th>
                                <th>Action</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-account let-ri="rowIndex">
                            <tr [pEditableRow]="account">
                                <ng-container>
                                    
                                    <td pEditableColumn *ngFor="let col of cols" style="min-width: 250px;height: 46px;"
                                    [ngClass]="{'disabled':(!col.editable)}"  [ngStyle]="{'background-color': !col.editable  ? '#dee2e6' :'#fff'}">
                                        <ng-container *ngIf="!col.editable ">
                                            {{col.title=="createdOn"?(account[col.title] | date :
                                            'dd-MM-yyyy'):account[col.title]}}
                                        </ng-container>
                                        <ng-container>
                                            {{col.edit}}
                                        </ng-container>
                                        <p-cellEditor *ngIf="(col.editable)"  >
                                            <ng-template pTemplate="input">
                                                <input pInputText [required]="col.required" [name]="col.title"
                                                [type]="col.inpType" [(ngModel)]="account[col.title]"  (change)="totaladdition(account,col,'PartA')"
                                                [min]="1" style="width:100%" *ngIf="col.title=='noOfHolders'" (keypress)="numberOnly($event)">

                                                <input pInputText [required]="col.required" [name]="col.title"
                                                [type]="col.inpType" [(ngModel)]="account[col.title]"  (change)="totaladdition(account,col,'PartA')"
                                                [min]="1" style="width:100%" *ngIf="col.title=='name'">

                                                <input pInputText [required]="col.required" [name]="col.title"
                                                    [type]="col.inpType" [(ngModel)]="account[col.title]"  (change)="totaladdition(account,col,'PartA')"
                                                    [min]="1" style="width:100%" *ngIf="col.title!='noOfHolders' && col.title!='name'" (keypress)="numberOnlyWithDismal($event)" >
    
                                            </ng-template>
                                            <ng-template pTemplate="output">
                                                {{col.title=="createdOn"?(account[col.title] | date :
                                                'dd-MM-yyyy'):account[col.title]}}
                                            </ng-template>
                                        </p-cellEditor>
                                    </td>
                                    <td >
                                        <i class="pi pi-trash text-danger" (click)="delete(account,ri,'PartA')"></i>
                                    </td>
    
                            </ng-container>
                         </tr>
    
                    </ng-template>
                    <ng-template pTemplate="footer"  >
                        <tr style="background-color: gray;">
                            <ng-container >
                                <td><b>TOTAL</b></td>
                                <td></td>
                                <td></td>
                                <td>{{partATotal.sharesHeld}}</td>
                                <td>{{partATotal.sharesInTotalEquity | number:'1.2-2' | removeComma}}</td>
                                <td>{{partATotal.bookValueOfShares | number:'1.2-2' | removeComma}}</td>
                                <td>{{partATotal.faceValueOfShares | number:'1.2-2' | removeComma}}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                              
                                
                            </ng-container> 
                        </tr>
                        
                    </ng-template>
                    </p-table>
                    </div>
                </p-tabView>
            </div>
            <p style="font-size: 13px;">Note: All shareholders who have holding of 1% or more of the total equity shares are to be reported</p>   
        </p-accordionTab>
        <p-accordionTab header="Part B: Other Shareholders" >
            <div class="card">
                <p-tabView>
                   
                    <div class="SectionScroller">   
                    <p-table [columns]="PartBcols" [value]="reportBData" responsiveLayout="scroll">
                       
                        <ng-template pTemplate="header" let-columns>
                            <tr>
                                <th *ngFor="let col of columns" [ngStyle]="{'width':col.width}">
                                    {{col.name}}
                                </th>
                                <!-- <th>Action</th> -->
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-account let-ri="rowIndex">
                           
                            <tr [pEditableRow]="account">
                                <ng-container>
                                   
                                    <td pEditableColumn *ngFor="let col of PartBcols" style="min-width: 250px;height: 46px;"
                                    [ngClass]="{'disabled':(!col.editable)}"  [ngStyle]="{'background-color': !col.editable  ? '#dee2e6' :'#fff'}">
                                        <ng-container *ngIf="!col.editable ">
                                            {{col.title=="createdOn"?(account[col.title] | date :
                                            'dd-MM-yyyy'):account[col.title]}}
                                        </ng-container>
                                        <ng-container>
                                            {{col.edit}}
                                        </ng-container>
                                        <p-cellEditor *ngIf="(col.editable)"  >
                                            <ng-template pTemplate="input">
                                                
                                                <input pInputText [required]="col.required" [name]="col.title"
                                                    [type]="col.inpType" [(ngModel)]="account[col.title]" (change)="totaladdition(account,col,'PartB')"
                                                    [min]="1" style="width:100%" *ngIf="col.title=='noofholders' || col.title=='sharesHeld'" (keypress)="numberOnly($event)"  >
                                                  
                                                    <input pInputText [required]="col.required" [name]="col.title"
                                                    [type]="col.inpType" [(ngModel)]="account[col.title]" (change)="totaladdition(account,col,'PartB')"
                                                    [min]="1" style="width:100%" (keypress)="numberOnlyWithDismal($event)"  *ngIf="col.title!='noofholders' && col.title!='sharesHeld'">

                                            </ng-template>
                                            <ng-template pTemplate="output">
                                                {{col.title=="createdOn"?(account[col.title] | date :
                                                'dd-MM-yyyy'):account[col.title]}}
                                            </ng-template>
                                        </p-cellEditor>
                                    </td>
                                    <!-- <td >
                                        <i class="pi pi-trash text-danger" (click)="delete(ri,'PartB')"></i>
                                    </td> -->
    
                            </ng-container>
                         </tr> 
    
                    </ng-template>
                    <ng-template pTemplate="footer"  >
                        <tr style="background-color: gray;">
                            <ng-container >
                                <td><b>TOTAL</b></td>
                                <td>{{partBTotal.noOfHolders}}</td>
                                <td>{{partBTotal.sharesHeld}}</td>
                                <td>{{partBTotal.sharesInTotalEquity | number:'1.2-2' | removeComma}}</td>
                                <td>{{partBTotal.bookValueOfShares | number:'1.2-2' | removeComma}}</td>
                                <td>{{partBTotal.faceValueOfShares | number:'1.2-2' | removeComma}}</td>
                                <td></td>
                                <td></td>
                                
                                <!-- <td></td> -->
                                
                            </ng-container> 
                        </tr>
                        
                    </ng-template>
                    </p-table>
                    </div>
                </p-tabView>
            </div>
        </p-accordionTab>
        <p-accordionTab header="Part C: Ownership Summary" >
            <div class="card">
                <p-tabView>
                  
                    <div class="SectionScroller">   
                    <p-table [columns]="PartCcols" [value]="reportCData" responsiveLayout="scroll">
                       
                        <ng-template pTemplate="header" let-columns>
                            <tr>
                                <th *ngFor="let col of columns" [ngStyle]="{'width':col.width}">
                                    {{col.name}}
                                </th>
                                <!-- <th>Action</th> -->
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-account let-ri="rowIndex">
                            <tr [pEditableRow]="account">
                                <ng-container>
                                    
                                    <td pEditableColumn *ngFor="let col of PartCcols" style="min-width: 250px;height: 46px;"
                                    [ngClass]="{'disabled':(!col.editable)}"  [ngStyle]="{'background-color': !col.editable  ? '#dee2e6' :'#fff'}">
                                        <ng-container *ngIf="!col.editable ">
                                            {{col.title=="createdOn"?(account[col.title] | date :
                                            'dd-MM-yyyy'):account[col.title]}}
                                        </ng-container>
                                        <ng-container>
                                            {{col.edit}}
                                        </ng-container>
                                        <p-cellEditor *ngIf="(col.editable)"  >
                                            <ng-template pTemplate="input">
                                                <input pInputText [required]="col.required" [name]="col.title"
                                                    [type]="col.inpType" [(ngModel)]="account[col.title]"  (change)="totaladdition(account,col,'PartC')"
                                                    [min]="1" style="width:100%" (keypress)="numberOnlyWithDismal($event)" >
    
                                            </ng-template>
                                            <ng-template pTemplate="output">
                                                {{col.title=="createdOn"?(account[col.title] | date :
                                                'dd-MM-yyyy'):account[col.title]}}
                                            </ng-template>
                                        </p-cellEditor>
                                    </td>
                                    <!-- <td >
                                        <i class="pi pi-trash text-danger" (click)="delete(ri,'PartC')"></i>
                                    </td> -->
    
                            </ng-container>
                         </tr>
    
                    </ng-template>
                    <ng-template pTemplate="footer"  >
                        <tr style="background-color: gray;">
                            <ng-container >
                                <td><b>TOTAL</b></td>
                                <td>{{partCTotal.resident | number:'1.2-2' | removeComma}}</td>
                                <td>{{partCTotal.nonResident | number:'1.2-2' | removeComma}}</td>
                                <td></td>
                                <td></td>
                               
                                <!-- <td></td> -->
                            </ng-container> 
                        </tr>
                        
                    </ng-template>
                    </p-table>
                    </div>
                </p-tabView>
            </div>   
        </p-accordionTab>
        <p-accordionTab header="Part D: Shareholder Control (Extent of Control)" >
            <div class="card">
                <p-tabView>
                    <div class="p-grid" style="text-align:inital;">    
                        <div class="p-col text-right add" style="padding-bottom: 17px;">
                            <button pButton type="button"  icon="pi pi-plus" iconPos="right" class="mr-2 " label="Add"
                                (click)="add('PartD',reportDData)"></button>
                        </div>
                    </div>
                    <div class="SectionScroller">
                    <p-table [columns]="PartDcols" [value]="reportDData" responsiveLayout="scroll">
                       
                        <ng-template pTemplate="header" let-columns>
                            <tr>
                                <th *ngFor="let col of columns" [ngStyle]="{'width':col.width}">
                                    {{col.name}}
                                </th>
                                <th>Action</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-account let-ri="rowIndex">
                            <tr [pEditableRow]="account">
                                <ng-container>
                                    
                                    <td pEditableColumn *ngFor="let col of PartDcols" style="min-width: 250px;height: 46px;"
                                    [ngClass]="{'disabled':(!col.editable)}"  [ngStyle]="{'background-color': !col.editable  ? '#dee2e6' :'#fff'}">
                                        <ng-container *ngIf="!col.editable ">
                                            {{col.title=="createdOn"?(account[col.title] | date :
                                            'dd-MM-yyyy'):account[col.title]}}
                                        </ng-container>
                                        <ng-container>
                                            {{col.edit}}
                                        </ng-container>
                                        <p-cellEditor *ngIf="(col.editable)"  >
                                            <ng-template pTemplate="input">
                                                <input pInputText [required]="col.required" [name]="col.title"
                                                    [type]="col.inpType" [(ngModel)]="account[col.title]" (change)="totaladdition(account,col,'PartD')"
                                                    [min]="1" style="width:100%" *ngIf="col.title=='noOfSharesHeld'" (keypress)="numberOnly($event)">
                                                
                                                    <input pInputText [required]="col.required" [name]="col.title"
                                                    [type]="col.inpType" [(ngModel)]="account[col.title]" (change)="totaladdition(account,col,'PartD')"
                                                    [min]="1" style="width:100%" *ngIf="col.title!='noOfSharesHeld'"   >
                                            </ng-template>
                                            <ng-template pTemplate="output">
                                                {{col.title=="createdOn"?(account[col.title] | date :
                                                'dd-MM-yyyy'):account[col.title]}}
                                            </ng-template>
                                        </p-cellEditor>
                                    </td>
                                    <td >
                                    <i class="pi pi-trash text-danger" (click)="delete(account,ri,'PartD')"></i>
                                    </td>
    
                            </ng-container>
                         </tr>
    
                    </ng-template>
                    </p-table>
                    </div>
                </p-tabView>
            </div>  
            <p style="font-weight: Bold;">Note :</p>
            <p style="font-size: 13px;">1 : For this return ‘Controller’ shareholder is defined as a shareholder (person or corporate) who, either alone or with any associate or associates is entitled to exercise or control the exercise of 15 percent or more of the voting power at any general meeting of the bank or the parent company of which the bank is a subsidiary</p>   
            <p style="font-size: 13px;">2. Significant shareholder is defined as a corporate or individual which/who individually or as controller of a group of shareholders, holds 5 percent or more of share capital or exercises 5 percent or more of voting power</p>
        </p-accordionTab>
      
    </p-accordion>
    
    <div class="row" style="padding-bottom:31px;padding-top: 25px;">
        <button pButton  (click)="gotoSection()" label="Next" icon="pi pi-check"    iconPos="left" class="mb-5" style="float:right;"></button>
        <button pButton type="button" label="Back" (click)="gotoReport('section1')"  class="p-button-raised p-button-secondary mr-2 mb-5"></button>
    </div>
    </div>
    <div *ngIf="section2Flag"  >
        <app-ownership-general-info-section2  (gotosection1generalInfo)="getSection2($event)" [ownershipInfo]="generalinfo"></app-ownership-general-info-section2>
    </div>